(function(){"use strict";var t=function(e,i,s){return this instanceof t?(this.queue=[],this.activeEl=e,this.trackingEl=i,this.verticies={},this.mouseP={x:void 0,y:void 0},this.options=s||{},this.timeout=null,this.options.timeout=this.options.timeout||750,this):new t(e,i,s)};t.prototype.watch=function(){return this.timeout=setTimeout(this.cancel.bind(this),this.options.timeout),this.boundListener=this.listen.bind(this),document.addEventListener("mousemove",this.boundListener),this.promise()},t.prototype.setVerticies=function(t,e){var i;t=t||this.activeEl,e=e||this.trackingEl,i=e.getBoundingClientRect(),this.verticies.p0={x:this.mouseP.x,y:this.mouseP.y},this.verticies.p1={x:i.left,y:i.top},this.verticies.p2={x:i.left,y:i.bottom}},t.prototype.listen=function(t){this.mouseP.x=t.pageX,this.mouseP.y=t.pageY,this.verticiesSet()||this.setVerticies(),this.isActive()&&(this.isInBounds(this.mouseP,this.verticies)||this.cancel())},t.prototype.resolvePromises=function(){for(var t in this.queue)this.queue[t]()},t.prototype.verticiesSet=function(){return"object"==typeof this.verticies.p0&&"object"==typeof this.verticies.p1&&"object"==typeof this.verticies.p2},t.prototype.isActive=function(){return this.verticiesSet()&&this.queue.length>0},t.prototype.isInBounds=function(t,e){var i=[e.p2.x-e.p0.x,e.p2.y-e.p0.y],s=[e.p1.x-e.p0.x,e.p1.y-e.p0.y],o=[t.x-e.p0.x,t.y-e.p0.y],n=i[0]*i[0]+i[1]*i[1],u=i[0]*s[0]+i[1]*s[1],r=i[0]*o[0]+i[1]*o[1],h=s[0]*s[0]+s[1]*s[1],c=s[0]*o[0]+s[1]*o[1],p=1/(n*h-u*u),v=(h*r-u*c)*p,f=(n*c-u*r)*p;return v>=0&&f>=0&&v+f<1},t.prototype.promise=function(){var t=this;return{then:function(e){"function"==typeof e&&t.queue.push(e)}}},t.prototype.cancel=function(){document.removeEventListener("mousemove",this.boundListener),this.resolvePromises(),clearTimeout(this.timeout),this.queue=[]},"function"==typeof define&&define.amd?define("intent",[],function(){return t}):window.Intent=t}).call(this);