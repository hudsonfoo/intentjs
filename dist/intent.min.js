(function(){"use strict";var t=function(e,i,o){return this instanceof t?(this.queue=[],this.activeEl=e,this.trackingEl=i,this.verticies={},this.mouseP={x:void 0,y:void 0},this.options=o||{},this.timeout=null,this.options.timeout=this.options.timeout||2e3,this):new t(e,i,o)};t.prototype.watch=function(){return this.timeout=setTimeout(this.cancel,this.options.timeout),self.boundListener=self.listen.bind(this),document.addEventListener("mousemove",this.boundListener),this.promise()},t.prototype.setVerticies=function(t,e){var i=this;t=t||this.activeEl,e=e||this.trackingEl;var o=(t.getBoundingClientRect(),e.getBoundingClientRect());this.verticies.p0={x:i.mouseP.x,y:i.mouseP.y},this.verticies.p1={x:o.left,y:o.top},this.verticies.p2={x:o.left,y:o.bottom}},t.prototype.listen=function(t){var e=this;e.mouseP.x=t.pageX,e.mouseP.y=t.pageY,e.verticiesSet()||e.setVerticies(),e.isActive()&&(e.isInBounds(e.mouseP,e.verticies)||(e.resolvePromises(),e.cancel()))},t.prototype.resolvePromises=function(){for(var t in this.queue)this.queue[t]()},t.prototype.verticiesSet=function(){return"object"==typeof this.verticies.p0&&"object"==typeof this.verticies.p1&&"object"==typeof this.verticies.p2},t.prototype.isActive=function(){return this.verticiesSet()&&this.queue.length>0},t.prototype.isInBounds=function(t,e){var i=[e.p2.x-e.p0.x,e.p2.y-e.p0.y],o=[e.p1.x-e.p0.x,e.p1.y-e.p0.y],s=[t.x-e.p0.x,t.y-e.p0.y],n=i[0]*i[0]+i[1]*i[1],u=i[0]*o[0]+i[1]*o[1],r=i[0]*s[0]+i[1]*s[1],c=o[0]*o[0]+o[1]*o[1],p=o[0]*s[0]+o[1]*s[1],h=1/(n*c-u*u),v=(c*r-u*p)*h,f=(n*p-u*r)*h;return v>=0&&f>=0&&v+f<1},t.prototype.promise=function(){var t=this;return{then:function(e){"function"==typeof e&&t.queue.push(e)}}},t.prototype.cancel=function(){document.removeEventListener("mousemove",this.boundListener),clearTimeout(this.timeout),this.queue=[]},"function"==typeof define&&define.amd?define("intent",[],function(){return t}):window.Intent=t}).call(this);